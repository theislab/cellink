import os

# Configurations
CHROMOSOMES = list(range(1, 23))  # Chromosomes 1 to 22
INPUT_DIR = "/data/ceph/hdd/project/node_09/sys_gen_students/2024_2025/project04_rare_variant_sc/input_data/filter_vcf_r08/"
OUTPUT_DIR = "/s/project/sys_gen_students/2024_2025/project04_rare_variant_sc/output/"

# Rule to process each .vcz file
rule burden_testing:
    input:
        lambda wildcards:  f"{wildcards.chrom}"
    output:
        lambda wildcards: f"{OUTPUT_DIR}/chr{wildcards.chrom}_all_results_DNA_LM_and_MAF_100k.pkl"
    shell:
        "python run_burden_testing.py {input}"
        #"echo '{input}' > out_{input}.txt"

# Rule to process all .vcz files
rule all:
    input:
        expand(f"{OUTPUT_DIR}/chr{{chrom}}_all_results_DNA_LM_and_MAF_100k.pkl", chrom=CHROMOSOMES)
